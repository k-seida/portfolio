<meta content=width=device-width name=viewport>
<style>
	@font-face{
		font-family:baseline;src:local(verdana);unicode-range:u+20
	}
	@font-face{
		font-family:yu gothic;src:local(yu gothic medium)
	}
	@font-face{
		font-family:yu gothic;font-weight:bold;src:local(yu gothic bold)
	}
	*{
		line-height:calc(1em + 8px);margin:unset
	}
	body{
		padding:8px 16px
	}
	input{
		all:unset;background:#ddd;margin-top:8px;margin-bottom:8px;padding:12px 16px;width:calc(100% - 32px)
	}
	input[type=submit]{
		background:#000;color:#fff;font-weight:bold;text-align:center
	}
	label:not([for]){
		font-weight:bold
	}
</style>
<form>
	<label>ISBN 上12桁</label>
	<input id=digits readonly type=number>
	<label>氏名</label>
	<input id=userName>
	<label>申請種別</label>
	<div>
		<input id=貸出 name=type value=貸出> <label for=貸出>貸出</label>
		<input id=延長 name=type value=延長> <label for=延長>延長</label>
		<input id=返却 name=type value=返却> <label for=返却>返却</label>
	</div>
	<label>貸出日</label>
	<input id=date type=date>
	<input id=submit type=submit>
</form>
<script type=module>
	digits.value=new URL(location).searchParams.get("digits")
	date.value=new Date().toLocaleDateString("sv")

	submit.onclick=()=>{
		const url=new URL("https://script.google.com")
		url.pathname="macros/s/AKfycbx2Iksqz5JihaJKVJakdnP0E6K_15N4bzuEAvXGVaVFmA63BhQVw6pt6VuvZWYzlUWh/exec"
		const payloadSource={
			date:new Date().toLocaleDateString("ja"),
			digits:digits.value,
			type:event.target.parentElement.type.value,
			userName:userName.value}
		const response=await fetch(url,{method:"post",body:JSON.stringify(payloadSource)})
		alert(await response.text())
	}
</script>